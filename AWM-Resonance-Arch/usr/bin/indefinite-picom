#!/usr/bin/env python
import os, sys, psutil
import psutil
#Roundabout way of temp fixing picom issue
def checkIfProcessRunning(processName):
    '''
    Check if there is any running process that contains the given name processName.
    '''
    #Iterate over the all the running process
    for proc in psutil.process_iter():
        try:
            # Check if process name contains the given name string.
            if processName.lower() in proc.name().lower():
                return True
        except (psutil.NoSuchProcess, psutil.AccessDenied, psutil.ZombieProcess):
            pass
    return False;
while True:
    if checkIfProcessRunning('picom'):
        print("waiting for picom to crash..")
    else:
        os.system("picom -b --experimental-backends &")
        print("Haha gotcha")

