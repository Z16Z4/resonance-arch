#!/usr/bin/env python
import sys
import os
import time
def typingPrint(text):
    for character in text:
        sys.stdout.write(character)
        sys.stdout.flush()
        time.sleep(0.05)

def typingInput(text):
    for character in text:
        sys.stdout.write(character)
        sys.stdout.flush()
        time.sleep(0.05)
    vaule = input()
    return vaule

if len(sys.argv) < 2:
    typingPrint("[-n] - name - <to specify name of theme>\n")
    typingPrint("for example: theme -n <name of theme>\n")
    typingPrint("themes available\n cyberpunk\n trains\n default\n")
else:
    argument1 = str(sys.argv[1])
    argument2 = str(sys.argv[2])
    if argument1 == "-n":
        if argument2 == "cyberpunk":
            os.system("sudo cp -r /home/$USER/.config/awesome/theme-changer/cyberpunk/* /home/$USER/.config/awesome/current_theme/")
            os.system("sudo mv /home/$USER/.config/awesome/current_theme/cyberpunk.sh /home/$USER/.config/awesome/current_theme/theme.sh")
            os.system("sudo cp -r /home/$USER/.config/awesome/theme-changer/cyberpunk/.local /home/$USER/")
            os.system("sudo chmod +x /home/$USER/.config/awesome/current_theme/theme.sh")
            typingPrint("to use your new theme use <Win> + <Ctrl> + <r> to restart \n the configuration\n")
            typingPrint("\nterminals will now close..\n")
            enter = input("enter to continue..")
            os.system("picom &")
            os.system("pkill -f background")
            os.system("pkill -f cool-retro-term")
            os.system("cool-retro-term")
            print(argument2 + " set as theme!")
        elif argument2 == "trains":
            os.system("sudo cp -r /home/$USER/.config/awesome/theme-changer/trains/* /home/$USER/.config/awesome/current_theme/")
            os.system("sudo mv /home/$USER/.config/awesome/current_theme/trains.sh /home/$USER/.config/awesome/current_theme/theme.sh")
            os.system("sudo cp -r /home/$USER/.config/awesome/theme-changer/trains/.local /home/$USER/")
            os.system("sudo chmod +x /home/$USER/.config/awesome/current_theme/theme.sh")
            typingPrint("Use <Win> + <Ctrl> + <r> to restart configuration\n")
            typingPrint("\nterminals will now close..\n")
            enter = input("enter to continue..")
            os.system("picom &")
            os.system("pkill -f cool-retro-term")
            os.system("cool-retro-term")
            os.system("pkill -f background")
            print(argument2 + " set as theme!")
            typingPrint("Use <Win>, <Ctrl> + <r> to restart configuration")
        elif argument2 == "default":
            typingPrint("default theme requires you to edit the .config/awesome/rc.lua configuration")
            os.system("pkill -f background")
            os.system("feh --bg-scale /home/$USER/.config/awesome/wallpaper/second.jpg")
            typingPrint("Using <Win> + <Ctrl> + <r> to restart configuration \nmay break this theme\n")
            typingPrint("\nterminals will now close..\n")
            enter = input("enter to continue..")
            os.system("picom &")
            os.system("pkill -f cool-retro-term")
            os.system("cool-retro-term")
            print("set wallpaper")

